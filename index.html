<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Impossible Seed</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');

  body {
    margin: 0;
    font-family: 'Orbitron', sans-serif;
    background-color: #0d0d0d;
    color: #f0f0f0;
    line-height: 1.6;
    overflow: hidden; /* صفحه ثابت */
  }

  header {
    display: flex;
    justify-content: flex-end;
    padding: 10px 20px;
    background: rgba(0,0,0,0.6);
    position: sticky;
    top: 0;
    z-index: 1000;
  }

  .lang-selector img {
    width: 32px;
    height: 20px;
    margin-left: 10px;
    cursor: pointer;
    border: 2px solid transparent;
    border-radius: 4px;
    transition: border 0.3s;
  }

  .lang-selector img.active {
    border: 2px solid #f0f0f0;
  }

  main {
    max-width: 900px;
    margin: 80px auto 40px;
    padding: 0 20px;
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  h1 {
    text-align: center;
    font-size: 2.5em;
    margin-bottom: 1rem;
  }

  h2 {
    margin-top: 1rem;
    font-size: 1.8em;
  }

  h3 {
    margin-top: 1rem;
    font-size: 1.5em;
  }

  p {
    margin: 0.8rem 0;
  }

  /* Box for scrollable text */
  #story {
    max-height: 500px; /* ارتفاع ثابت باکس */
    overflow-y: auto;  /* فعال کردن اسکرول */
    padding: 20px;
    background: rgba(0,0,0,0.6);
    border-radius: 10px;
    scrollbar-width: thin;
    scrollbar-color: #1abc9c rgba(255,255,255,0.1);
  }
  #story::-webkit-scrollbar {
    width: 8px;
  }
  #story::-webkit-scrollbar-thumb {
    background-color: #1abc9c;
    border-radius: 4px;
  }

  form {
    background: rgba(255,255,255,0.05);
    padding: 20px;
    border-radius: 10px;
  }

  label {
    display: block;
    margin-bottom: 10px;
  }

  input[type="email"], textarea {
    width: 100%;
    padding: 10px;
    margin-top: 5px;
    border-radius: 5px;
    border: none;
    font-family: 'Orbitron', sans-serif;
    background: rgba(255,255,255,0.1);
    color: #f0f0f0;
  }

  button {
    margin-top: 10px;
    padding: 10px 20px;
    background: #1abc9c;
    color: #000;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
    transition: background 0.3s;
  }

  button:hover {
    background: #16a085;
  }

  /* Three.js canvas overlay */
  #overlay {
    position: fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background: rgba(0,0,0,0.65);
    z-index:-1;
  }

  canvas {
    position: fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    z-index:-2;
  }

</style>
</head>
<body>

<header>
  <div class="lang-selector">
    <img src="https://upload.wikimedia.org/wikipedia/en/a/ae/Flag_of_the_United_Kingdom.svg" id="en" class="active" title="English">
    <img src="https://flagofiran.com/files/Flag_of_Iran_simplified.svg" id="fa" title="فارسی">
    <img src="https://upload.wikimedia.org/wikipedia/en/b/ba/Flag_of_Germany.svg" id="de" title="Deutsch">
  </div>
</header>

<div id="overlay"></div>
<canvas id="bg"></canvas>

<main>
  <h1 id="title">Impossible Seed</h1>
  <div id="story">
    <h2>Sample Text Box</h2>
    <p>This is a placeholder text. You can add your content here. The box is scrollable while the page remains fixed.</p>
    <p>Keep adding paragraphs to test scrolling inside this box.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam.</p>
    <p>More sample text...</p>
    <p>More sample text...</p>
    <p>More sample text...</p>
    <p>More sample text...</p>
  </div>

  <form id="contact-form" action="https://formspree.io/f/xvgwgjag" method="POST">
    <label>
      Your email:
      <input type="email" name="email" required>
    </label>
    <label>
      Your message:
      <textarea name="message" rows="5" required></textarea>
    </label>
    <button type="submit">Send</button>
  </form>
</main>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script>
  // Three.js background
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
  const renderer = new THREE.WebGLRenderer({canvas: document.getElementById("bg"), antialias:true});
  renderer.setSize(window.innerWidth, window.innerHeight);

  const geometry = new THREE.IcosahedronGeometry(5,0);
  const material = new THREE.MeshBasicMaterial({color:0x1abc9c, wireframe:true});
  const mesh = new THREE.Mesh(geometry, material);
  scene.add(mesh);
  camera.position.z = 15;

  function animate(){
    requestAnimationFrame(animate);
    mesh.rotation.x += 0.001;
    mesh.rotation.y += 0.002;
    renderer.render(scene,camera);
  }
  animate();

  window.addEventListener('resize', ()=>{
    camera.aspect = window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });

  // Language switch sample text
  const translations = {
    en:{title:"Impossible Seed", story:"<h2>Sample Text Box</h2><p>This is a placeholder text in English. Scroll inside this box.</p>"},
    fa:{title:"دانهٔ محال", story:"<h2>نمونه متن</h2><p>این متن نمونه به فارسی است. داخل باکس اسکرول کنید.</p>"},
    de:{title:"Der unmögliche Samen", story:"<h2>Beispieltext</h2><p>Dies ist ein Platzhaltertext auf Deutsch. Scrollen Sie innerhalb dieses Feldes.</p>"}
  };

  function setLanguage(lang){
    document.getElementById("title").innerHTML = translations[lang].title;
    document.getElementById("story").innerHTML = translations[lang].story;
    document.querySelectorAll('.lang-selector img').forEach(img=> img.classList.remove('active'));
    document.getElementById(lang).classList.add('active');
  }

  document.querySelectorAll('.lang-selector img').forEach(img=>{
    img.addEventListener('click', ()=> setLanguage(img.id));
  });

  setLanguage('en');

</script>
</body>
</html>
